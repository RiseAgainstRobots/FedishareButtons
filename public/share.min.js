"use strict";document.addEventListener("DOMContentLoaded",function(){function e(e){if(e.match(/^https:\/\//i))return e;var t=e.split("/").filter(function(e){return e.indexOf(".")>-1});return"https://"+encodeURIComponent(t)}for(var t=document.querySelector("h1"),n=document.querySelector("head").querySelector("title"),o=document.querySelector('meta[property="og:title"]'),r=null===n?"":n.textContent,l=null===o?"":o.content,u=null===t?"":t.textContent,i=r||l||u,a=encodeURIComponent(window.location.href),c=document.querySelectorAll(".share-btn"),d=[],p=0;p<c.length;p++)d.push(c[p]);for(var s=document.querySelectorAll(".popup input"),f=[],h=0;h<s.length;h++)f.push(s[h]);var m=function(t){var n="podurl"!==t.target.name,o=n?t.target.value:t.target.nextSibling.value,r=n?t.target.previousSibling.value:t.target.value,l=encodeURI(i).replace(/%20/g,"+"),u=e(r);"diaspora"===o?window.open(u+"/bookmarklet?url="+a+"&title="+l):"gnusocial"===o?window.open(u+"/notice/new?status_textarea="+l+"&"+a):"mastodon"===o?window.open(u+"/share?text="+l+"&"+a):"friendica"===o?window.open(u+"/bookmarklet?url="+a+"&title="+l):"hubzilla"===o?window.open(u+"/rpost?f=&url="+a+"&title="+l):"socialhome"===o&&window.open(u+"/bookmarklet?url="+a+"&title="+l)};d.forEach(function(e){return e.addEventListener("click",m,!1)}),f.forEach(function(e){return e.addEventListener("keypress",function(e){13===e.keyCode&&m(e)})})});